<head>
    <title>Golden Shark</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/vue-lazyload/vue-lazyload.js"></script>
    <script src="https://unpkg.com/vue/dist/vue.min.js"></script>
    <script src="https://unpkg.com/vuetify/dist/vuetify.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel="stylesheet">
    <link href="https://unpkg.com/vuetify/dist/vuetify.min.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <meta name="google-site-verification" content="jRdpRrB_wfZDdFnHiO0gtegTcMGeJrZQrYTacZ-MSzY" />
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-116224696-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'UA-116224696-1');
    </script>
</head>

<div id="thzapp">
    <v-app id="inspire">

        <v-toolbar height=128>
            <v-toolbar-items>
                <img src="/static/Shark.png">
            </v-toolbar-items>
            <v-toolbar-items>
                <img src="/static/GS.png">
            </v-toolbar-items>
        </v-toolbar>

        <v-container fluid grid-list-xl>
            <v-layout align-center>
                <v-flex xs12 sm8 offset-xs1>
                    <v-card>
                        <v-container fluid grid-list-md>
                            <v-layout row wrap>
                                <v-flex xs12 v-for="thz in message" :key="thz.code">
                                    <v-card hover ripple>
                                        <img v-lazy="thz.imgf" width="100%">
                                        <v-card-title primary-title>
                                            <div>
                                                <h3 class="headline mb-0" v-text="thz.code"></h3>
                                                <br>
                                                <h3 class="headline mb-0" v-text="thz.text"></h3>
                                                <br>
                                                <h3 class="headline mb-0" v-text="thz.name"></h3>
                                            </div>
                                        </v-card-title>
                                        <v-card-actions>
                                            <v-spacer></v-spacer>
                                            <v-btn color="success" :href="thz.href" target="_blank">Download</v-btn>
                                        </v-card-actions>
                                    </v-card>
                                </v-flex>
                            </v-layout>
                        </v-container>
                    </v-card>
                </v-flex>
            </v-layout>
        </v-container>

        <div class="text-xs-center">
            <v-pagination :length="pages" v-model="page" @input="next" :total-visible="8"></v-pagination>
        </div>

        <div class="text-xs-right">
            <v-btn fixed dark fab bottom right color="pink" id="upup" @click="$vuetify.goTo(target, options)">
                <i aria-hidden="true" class="icon material-icons">keyboard_arrow_up</i>
            </v-btn>
        </div>

        <v-footer class="pa-3">
            <div>&copy; {{ new Date().getFullYear() }}</div>
        </v-footer>

    </v-app>
</div>
<script>
    Vue.use(VueLazyload)
    var thzapp = new Vue({
        el: '#thzapp',
        data: {
            message: '',
            page: 1,
            pages: 0
        },
        mounted: function () {
            this.getJsonInfo()
        },
        created: function () {
            this.getTotalPages()
        },
        computed: {
            target() {
                return 0
            },
            options() {
                return {
                    duration: 1000,
                    offset: 0,
                    easing: 'easeInOutCubic'
                }
            }
        },
        methods: {
            getJsonInfo: function () {
                axios.get('http://www.goldenshark.ga/thzdetails/1')
                    .then(function (response) {
                        this.message = response.data;
                    }.bind(this))
                    .catch(function (error) {
                        console.log(error);
                    });
            },
            getTotalPages: function () {
                axios.get('http://www.goldenshark.ga/totalpages')
                    .then(function (response) {
                        this.pages = parseInt(response.data);
                    }.bind(this))
                    .catch(function (error) {
                        console.log(error);
                    });
            },
            next(page) {
                axios.get('http://www.goldenshark.ga/thzdetails/' + page)
                    .then(function (response) {
                        console.log('Current page is ' + page);
                        document.getElementById("upup").click();
                        this.message = response.data;
                    }.bind(this))
                    .catch(function (error) {
                        console.log(error);
                    });
            }
        }
    })
</script>